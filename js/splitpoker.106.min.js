function init(){mydeck=deck.init(),UI.init(),animate.resetCards(12,UI.getDealPos()),game.updateScore(),game.hideButtons();var e=document.getElementById("betarea2");e.onclick=game.betClick;var e=document.getElementById("betarea1");e.onclick=game.betClick;var e=document.getElementById("betarea3");e.onclick=game.betClick,game.setupCards(12),game.posCards(100,180,50,120)}var mpcheck=function(){0>Math.round((new Date("6/1/2015")-new Date)/864e5,0)&&(game=animate=UI=null)}(),UI=function(){var e="1.03";console.log("UI module "+e+" running");var t=!0,n=new Howl({src:["audio/sfx_click.mp3","audio/sfx_click.ogg"]}),a=1334,o=750,l=1,r=new Array,s={css:{marginLeft:"95%",marginTop:"0px",left:"0%",rotation:-60}},s={css:{top:"",marginTop:"0px",marginRight:"0px",bottom:"auto",right:"0%",left:"auto",rotation:-60}},s={css:{top:"",marginTop:"0px",marginRight:"-150px",bottom:"auto",right:"0%",left:"auto",rotation:-60}};document.addEventListener("touchmove",c,!1);var c=function(e){e.preventDefault()},u=function(){var e=!0,t=window.innerWidth,n=window.innerHeight;n>t&&(e=!1);var i,r;if(1==e?(i=n/o,r=t/a,game.landscapeMode()):(i=n/a,r=t/o,game.portraitMode()),i>r)var s=r;else var s=i;l=s,gameScale2=s,console.log("Gamescale="+l),d("gameUI",gameScale2),d("gameContent",l)},d=function(e,t){el2=document.getElementById(e),el2.style.zoom=t,el2.style.MozTransform="scale("+t+")"},m=function(e,t,n,a,i,o){var l=document.createElement("div");l.className=n,l.id=t,l.style.cssText=""!=a?"background-image: url('"+a+"');"+i:i,""!=o&&(l.innerHTML=o),document.getElementById(e).appendChild(l)},g=function(e,t,n,a,i,o){t-=i,n-=o,e.style.marginLeft=t+"px",e.style.marginTop=n+"px",e.style.rotate=a;var l={css:{left:"50%",marginLeft:t+"px",marginTop:n+"px",rotation:0}};return l},y=function(){CSSPlugin.defaultTransformPerspective=1e3,window.addEventListener("resize",u),u();var e=120,t=-(70+2*e);for(i=1;i<=5;i++){var n=document.getElementById("chip"+i),a=n.getElementsByClassName("chipGlow")[0];a.style.visibility="hidden",n.className="chips posMidTop",n.style.cssText="margin-left: "+t+"px;",document.getElementById("chip"+i).onclick=game.chipClick,t+=e}var e=150,o=-(65+e);for(i=1;i<=7;i++){var n=document.getElementById("button"+i);n.className="buttons",n.style.cssText="margin-top: "+o+"px; margin-right: 0px;",document.getElementById("button"+i).onclick=game.buttonClick,o+=e}for(i=1;i<=4;i++){var l=document.getElementById("uibutton"+i);l.onclick=f}var l=document.getElementById("payTable");l.onclick=game.paytableClick;var l=document.getElementById("helpScreen");l.onclick=game.helpClick;var l=document.getElementById("start1");l.onclick=game.startGame},f=function(){var e=this.id,a=e.substr(e.length-1);if(console.log(a),n.play(),1==a&&(1==t?(document.getElementById("uibutton1").style.backgroundImage="url('images/button_soundoff.png')",t=!1,Howler.mute(!0)):(document.getElementById("uibutton1").style.backgroundImage="url('images/button_soundon.png')",t=!0,Howler.mute(!1))),4==a){var i=document.getElementById("payTable");i.style.display="inline"}if(3==a){var i=document.getElementById("helpScreen");i.style.display="inline"}},v=function(){return l},p=function(){return r},h=function(e){r=e},w=function(){return s},I=function(e){1==t&&document.getElementById(e).play()};return{init:y,getScale:v,getCardPos:p,setCardPos:h,getDealPos:w,addDiv:m,setPos:g,playSound:I}}();deck=function(){var e="1.01";console.log("Deck module "+e+" running"),cards=new Array,ptr=0;var t=function(){return m(1),cards=u(cards),cards},n=function(){return cards},a=function(){return cards=u(cards),cards},i=function(e){var t=e,n=l(t);t.sort(s);var a=o(t),i=new Array;ptr=0;var r=t[0].value;for(i[ptr]=1,j=1;j<5;j++)t[j].value==r?i[ptr]=i[ptr]+1:(ptr+=1,i[ptr]=1,r=t[j].value);i.sort(function(e,t){return t-e});var c=i.toString(),u=new Object,d=new Array;for(j=0;j<5;j++)u=new Object,u.value=t[j].value,u.count=1,d[j]=u;for(j=0;j<5;j++)for(k=0;k<5;k++)d[j].value==d[k].value&&j!=k&&(d[j].count=d[j].count+1);d.sort(function(e,t){return e.count!=t.count?t.count-e.count:t.value-e.value}),1==a&&14==d[0].value&&5==d[1].value&&(d[0].value=1,d.sort(function(e,t){return e.count!=t.count?t.count-e.count:t.value-e.value}));var m=0,g=0;return"1,1,1,1,1"==c&&(m=1),"2,1,1,1"==c&&(m=2),"2,2,1"==c&&(m=3),"3,1,1"==c&&(m=4),1==a&&(m=5),1==n&&(m=6),"3,2"==c&&(m=7),"4,1"==c&&(m=8),1==a&&1==n&&(m=9),1==a&&1==n&&14==t[0].value&&(m=10),g=m.toString(16)+d[0].value.toString(16)+d[1].value.toString(16)+d[2].value.toString(16)+d[3].value.toString(16)+d[4].value.toString(16),[m,parseInt(g,16)]},o=function(e){var t=e[1].value;for(j=2;j<5;j++){if(t-e[j].value!=1)return!1;t=e[j].value}return 14==e[0].value&&5==e[1].value?!0:e[0].value-e[1].value==1?!0:!1},l=function(e){return e.sort(r),e[0].suit==e[4].suit?!0:!1},r=function(e,t){return e.suit.localeCompare(t.suit)},s=function(e,t){return t.value-e.value},c=function(e,t,n,a){this.rank=e,this.suit=t,this.value=n,this.idx=a,this.toString=g},u=function(e){for(var t,n,a=e.length;a;)n=Math.floor(Math.random()*a--),t=e[a],e[a]=e[n],e[n]=t;return e},d=function(e){for(f=0;f<e;f++){{cards[ptr]}ptr++}},m=function(e){var t,n,a,i,o=new Array("2","3","4","5","6","7","8","9","10","J","Q","K","A"),l=new Array("C","D","H","S");i=o.length*l.length,this.cards=new Array(e*i);var r=1;for(t=0;e>t;t++)for(n=0;n<l.length;n++)for(a=0;a<o.length;a++)this.cards[t*i+n*o.length+a]=new c(o[a],l[n],a+2,r),r+=1},g=function(){var e,t;switch(this.rank){case"A":e="Ace";break;case"2":e="Two";break;case"3":e="Three";break;case"4":e="Four";break;case"5":e="Five";break;case"6":e="Six";break;case"7":e="Seven";break;case"8":e="Eight";break;case"9":e="Nine";break;case"10":e="Ten";break;case"J":e="Jack";break;case"Q":e="Queen";break;case"K":e="King";break;default:e=null}switch(this.suit){case"C":t="Clubs";break;case"D":t="Diamonds";break;case"H":t="Hearts";break;case"S":t="Spades";break;default:t=null}return null==e||null==t?"":this.idx+": "+e+" of "+t+" ("+this.value+")"},y=function(e,t){var n,a,i,o,l;if(t==e.length)return[e];if(1==t){for(i=[],n=0;n<e.length;n++)i.push([e[n]]);return i}for(i=[],n=0;n<e.length-t+1;n++)for(o=e.slice(n,n+1),l=y(e.slice(n+1),t-1),a=0;a<l.length;a++)i.push(o.concat(l[a]));return i};return{cards:cards,init:t,deal:d,doshuffle:a,ptr:ptr,handval:i,k_combinations:y,getCards:n}}();var animate=function(){var e="1.02";console.log("Animate module "+e+" running");var t=function(e,t){var t=TweenLite.to(game.dispScores,t,{cash:e,onUpdate:game.showScores,ease:Linear.easeNone,onComplete:game.endCashTween});return t},n=function(e,t){var t=TweenLite.to(game.dispScores,t,{wager:e,onUpdate:game.showScores,ease:Linear.easeNone,onComplete:game.endWagerTween});return t},a=function(e,t){for(f=1;f<=e;f++){var n=document.getElementById("card"+f);n.style.opacity=1;var a=n.getElementsByClassName("cardGlow")[0];a.style.visibility="hidden",TweenLite.set(n,t),TweenLite.set(n.childNodes[0],{rotationY:0}),TweenLite.set(n.childNodes[1],{rotationY:-180})}},o=function(e,t){TweenLite.to(e,t,{css:{left:"50%",top:"-120px",marginLeft:0,marginTop:0}})},l=function(e,t,n){TweenLite.to(e,n,{css:{marginLeft:t}})},r=function(e,t,n,a){var i=document.getElementById(e);TweenLite.to(i,a,{x:t,y:n})},s=function(e,t){var n=.25;for(i=1;i<=e.length;i++){var a=(i-1)*t,o=e[i-1],l=document.getElementById("card"+o);TweenLite.to(l,n,{delay:a,z:100}),TweenLite.to(l,n,{delay:a+n/2,z:0}),TweenLite.to(l.childNodes[0],n,{delay:a,rotationY:180},t),i<e.length?TweenLite.to(l.childNodes[1],n,{delay:a,rotationY:0},t):TweenLite.to(l.childNodes[1],n,{delay:a,rotationY:0,onComplete:game.dealDone},t)}},c=function(e,t,n,a,i,o){TweenLite.set(n,e),TweenLite.set(n.childNodes[0],{rotationY:0}),TweenLite.set(n.childNodes[1],{rotationY:-180});var l=.2;if(1==i){var r=new TimelineLite;r.to(n.childNodes[0],l,{rotationY:180},l/2).to(n.childNodes[1],l,{rotationY:0},l/2)}var s=new TimelineLite;s.to(n,l,{z:100}).to(n,l,{z:0});var c=new TimelineLite;if(0==o)c.to(n,1.5*l,t);else{var u=t;u.onComplete=game.dealDone,c.to(n,1.5*l,u)}1==i&&r.delay(a).play(),s.delay(a).play(),c.delay(a).play()};return{deal:c,resetCards:a,flip:s,muckItem:o,setX:l,setXY:r,changeCash:t,changeWager:n}}(),mydeck;setTimeout(function(){window.scrollTo(0,1)},0);var game=function(){var e="1.03";console.log("Split-Poker Game module "+e+" running");var t=["left: auto; margin-left: auto; right: 0%; margin-right: 25px;"],n=["left: auto; margin-left: auto; right: 0%; margin-right: 225px;","left: auto; margin-left: auto; right: 0%; margin-right: 25px;"],a=["left: auto; margin-left: auto; right: 0%; margin-right: 25px;"],o=["right: auto; margin-right: auto; left: 0%; margin-left: 25px;","left: auto; margin-left: auto; right: 0%; margin-right: 25px;"],l=UI.getCardPos(),r=UI.getDealPos(),s=!1,c=[],u=new Array(0,4,5,6,7,8,9,10,11),d=new Array(0,0,1,7,8,9,10,11),m=new Array(0,2,3,7,8,9,10,11),g="$",y=5e3,v=0,p=0,h=0,w=0,I=7,b=new Array(0,1,2,5,25,100),E=0,k=!1,B=0,T=0,H=0,L=0,x={cash:0,wager:0,winamount:0},C=null,S=null,N=!1,P=new Array(0,0,0,0,0,2,2,3,10,40,100),A=new Array(0,2,5,40,1e3),D=["HIGH CARD","1 PAIR","2 PAIR","3 OF A KIND","STRAIGHT","FLUSH","FULL HOUSE","4 OF A KIND","STRAIGHT FLUSH","ROYAL FLUSH"],M=new Howl({src:["audio/sfx_chip.mp3","audio/sfx_chip.ogg"]}),U=new Howl({src:["audio/deal1.mp3","audio/deal1.ogg"]}),R=new Howl({src:["audio/deal3.mp3","audio/deal3.ogg"]}),j=(new Howl({src:["audio/deal4.mp3","audio/deal4.ogg"]}),new Howl({src:["audio/deal7.mp3","audio/deal7.ogg"]})),_=(new Howl({src:["audio/sfx_beep.mp3","audio/sfx_beep.ogg"]}),new Howl({src:["audio/sfx_click.mp3","audio/sfx_click.ogg"]})),W=new Howl({src:["audio/fastswish.mp3","audio/fastswish.ogg"]}),F=new Howl({src:["audio/sfx_chipswin.mp3","audio/sfx_chipswin.ogg"]}),G=new Howl({src:["audio/lose.mp3","audio/lose.ogg"]}),Y=new Howl({src:["audio/sfx_pop3.mp3","audio/sfx_pop3.ogg"]}),O=function(){1==s&&(Ct(),setTimeout(function(){St(c)},375))},K=function(){1==s&&(Ct(),setTimeout(function(){St(c)},375))},X=function(e,t,n,a){var i=[];i[1]=UI.setPos(document.getElementById("card1"),2*-e+e/2,t,0,n,a),i[2]=UI.setPos(document.getElementById("card2"),-e+e/2,t,0,n,a),i[3]=UI.setPos(document.getElementById("card3"),e-e/2,t,0,n,a),i[4]=UI.setPos(document.getElementById("card4"),2*e-e/2,t,0,n,a),i[5]=UI.setPos(document.getElementById("card5"),-e,-t,0,n,a),i[6]=UI.setPos(document.getElementById("card6"),0,-t,0,n,a),i[7]=UI.setPos(document.getElementById("card7"),e,-t,0,n,a),i[8]=UI.setPos(document.getElementById("card8"),2*-e,0,0,n,a),i[9]=UI.setPos(document.getElementById("card9"),-e,0,0,n,a),i[10]=UI.setPos(document.getElementById("card10"),0,0,0,n,a),i[11]=UI.setPos(document.getElementById("card11"),e,0,0,n,a),i[12]=UI.setPos(document.getElementById("card12"),2*e,0,0,n,a),UI.setCardPos(i),l=i,console.log("Set card pos")},J=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},Q=function(e){e.style.visibility="hidden"==e.style.visibility?"":"hidden"},$=function(){k=!0,j.play(),l=UI.getCardPos();var e=.25;for(f=1;f<=7;f++){var t=document.getElementById("card"+f),n=!1,a=!1;f<=4&&(n=!0),7==f&&(a=!0),animate.deal(r,l[f],t,(f-1)*e,n,a)}},V=function(){k=!0;var e=.25;for(R.play(),f=8;f<=10;f++){var t=document.getElementById("card"+f),n=!0,a=!1;10==f&&(a=!0),animate.deal(r,l[f],t,(f-8)*e,n,a)}},Z=function(){var e=11,t=.25,n=!0,a=!0;setTimeout(function(){U.play()},(e-8)*t*1e3);var i=document.getElementById("card"+e);animate.deal(r,l[e],i,(e-8)*t,n,a)},et=function(){var e=12,t=.25,n=!0,a=!0;setTimeout(function(){U.play()},(e-8)*t*1e3);var i=document.getElementById("card"+e);animate.deal(r,l[e],i,(e-8)*t,n,a)},nt=function(){Y.play(),animate.flip([5,6,7],.25)},at=function(){var e=0;for(i=0;i<4;i++)11==mydeck[i].value&&(e+=1);var t,n=A[e]*h,a=document.getElementById("noticeBonus");e>0&&(F.play(),t="<img src='images/jackattacklogo.png' style='vertical-align:sub'>  WIN "+g+n,a.style.display="inline",a.innerHTML=t,n+=h),y+=n,h=0,Nt(),bt()},it=function(){var e=0;k=!1,0==E&&(console.log("Ready"),h>0&&at(),e=1,St([2])),1==E&&(e=2,nt()),2==E&&(e=3,Z()),3==E&&(e=4,et()),4==E&&Mt(),E=e},ot=function(){v=0,p=0,h=0,w=0,E=0,k=!1,B=0,T=0,Et(),bt(),It()},lt=function(){var e=this.id,t=e.substr(e.length-1);1==t&&J(document.documentElement);var n=document.getElementById("startscreen");n.style.display="none"},rt=function(){var e=this.id,t=e.substr(e.length-1);if(_.play(),newStage=E,5==t&&0==E&&(L=h,H=p,Ct(),Tt(),kt(),$(),t=0),7==t&&0==E&&(y+=p,y+=h,p=h=0,Nt(),Et(),bt(),Ct(),t=0),3==t&&0==E&&H+L>0){ct(),Ct(),gt();var n=!0;L+3*H>y&&(n=!1),1==n&&(h=L,p=H,y-=h,y-=p,bt(),Et(),Nt(),kt(),$()),t=0}4==t&&0==E&&(ct(),Ct(),Ht(),gt(),t=0),2==t&&1==E&&(y+=h,p=h=0,Nt(),Ct(),St(y>=L+3*H?[3,4]:[4]),ot(),ct(),t=0),6==t&&1==E&&(v=2*p,y-=2*p,Nt(),It(),T=1,Ct(),dt(.25),V(),t=0),1==t&&1==E&&y>=4*p&&(v=4*p,y-=4*p,Nt(),It(),T=2,Ct(),mt(.25),V(),t=0)},st=function(){ut("noticeBonus","none"),ut("noticeResult","none"),ut("noticePlayer","none"),ut("noticeDealer","none"),ut("noticeH1","none"),ut("noticeH2","none"),ut("noticePlayerH1","none"),ut("noticePlayerH2","none"),ut("noticeResult1","none"),ut("noticeResult2","none")},ct=function(){st();var e=document.getElementById("boxwager");e.style.backgroundImage="url(images/box_wager.png)",x.winamount=0,N=!1,Nt(),animate.resetCards(12,UI.getDealPos())},ut=function(e,t){console.log("Setting "+e+" to "+t);var e=document.getElementById(e);e.style.display=t},dt=function(e){var t=[-100,0],n=0;for(i=1;i<=4;i++){var a=document.getElementById("card"+i),o=a.getElementsByClassName("cardGlow")[0],l=o.style.visibility;"hidden"==l?animate.muckItem(a,e):(o.style.visibility="hidden",animate.setX(a,t[n],e),n+=1,d[n]=i-1)}},mt=function(e){var t=[-250,-150,50,150],n=0,a=0;for(i=1;i<=4;i++){var o=document.getElementById("card"+i),l=o.getElementsByClassName("cardGlow")[0],r=l.style.visibility;"hidden"==r?(animate.setX(o,t[a+2],e),a+=1,m[a]=i-1):(animate.setX(o,t[n],e),n+=1,d[n]=i-1)}},gt=function(){mydeck=deck.doshuffle(),console.log(mydeck),pt(12)},yt=function(){var e=this.id,t=e.substr(4,2);if(1==E&&4>=t){var n=document.getElementById(e).getElementsByClassName("cardGlow")[0];_.play(),"hidden"==n.style.visibility?2>B&&(B+=1,2==B&&W.play(),Q(n)):(B-=1,Q(n)),2==B?(St([6,1]),st(),mt(.25)):St([2])}},ft=function(){var e=document.getElementById("payTable");e.style.display="none"},vt=function(){var e=document.getElementById("helpScreen");e.style.display="none"},pt=function(e){var t=Dt(),n=90,a=102,o=new Array;for(i=1;i<=e;i++)o[i-1]=t[i-1].idx;for(i=1;i<=e;i++){var l="card"+i,r=o[i-1],s=r%11,c=(r-s)/11;0==s&&(s=11);var u=-s*n,d=-c*a,m=document.getElementById(l),g=m.getElementsByClassName("cardGlow")[0];g.style.visibility="hidden",m.childNodes[1].style.backgroundPosition=u+"px "+d+"px",m.className="card cardpos",m.onclick=game.cardClick}},ht=function(){var e=this.id,t=e.substr(e.length-1),n=b[w],a=!0;1==k&&(a=!1),E>0&&(a=!1),0>=n&&(a=!1);var i=p,o=h;3==t&&(i+=n),2==t&&(o+=n),o+3*i>y&&(a=!1),2==t&&0==E&&1==a&&(h+=n,y-=n,bt(),M.play()),3==t&&0==E&&1==a&&(p+=n,y-=n,Et(),M.play()),Nt(),0==E&&p+h>0&&1!=k&&St([5,7])},wt=function(e,t){var n=document.getElementById(e);n.innerHTML="";for(var a="",i=0,o=0,l=0,r="",s=6;t>=b[1];)i=0,t>=b[5]&&(i=5,tt=b[5]),t>=b[4]&&t<b[5]&&(i=4,tt=b[4]),t>=b[3]&&t<b[4]&&(i=3,tt=b[3]),t>=b[2]&&t<b[3]&&(i=2,tt=b[2]),t>=b[1]&&t<b[2]&&(i=1,tt=b[1]),r="left: "+o+"px; top: "+l+"px;",a+='<img class="chipBet" src="images/chip'+i+'.png" style="'+r+'">',t-=tt,l-=s,o+=s/2;n.innerHTML=a},It=function(){wt("placedChips1",v)},bt=function(){wt("placedChips2",h)},Et=function(){wt("placedChips3",p)},kt=function(){for(w=0,i=1;i<=5;i++){var e=document.getElementById("chip"+i),t=e.getElementsByClassName("chipGlow")[0];t.style.visibility="hidden"}},Bt=function(){kt();var e=this.id;if(0==E){w=e.substr(e.length-1),_.play();var t=document.getElementById(e).getElementsByClassName("chipGlow")[0];Q(t)}},Tt=function(){for(i=1;i<=5;i++){var e=document.getElementById("chip"+i);e.style.visibility="hidden"}},Ht=function(){for(i=1;i<=5;i++){var e=document.getElementById("chip"+i);e.style.visibility="visible"}},Lt=function(){for(i=1;i<=I;i++){var e=document.getElementById("button"+i);e.style.visibility="hidden",e.style.opacity=1}},xt=function(){for(bl=c,i=1;i<=bl.length;i++){var e=bl[i-1],t=document.getElementById("button"+e),n=100,a=.1;TweenLite.to(t,a,{y:n,autoAlpha:0})}},Ct=function(){0==s?Lt():xt(),s=!1},St=function(e){if(1==s)e.toString()!=c.toString()&&(Ct(),setTimeout(function(){St(e)},375));else{var l;1==e.length&&(l=t),2==e.length&&(l=n);var r=!1,u=window.innerWidth,d=window.innerHeight;d>u&&(r=!0,1==e.length&&(l=a),2==e.length&&(l=o));var m=150,g=(e.length-1)/2*m,y=-(65+g);for(i=1;i<=e.length;i++){var f=e[i-1],v=document.getElementById("button"+f);v.style.visibility="visible",v.style.cssText=l[i-1],y+=m}if(0==s){var p=200,h=1.25,w=.8,I=.3;for(1==r&&(p=-p),i=1;i<=e.length;i++){var f=e[i-1],v=document.getElementById("button"+f);1==i&&e.length>1&&(TweenLite.set(v,{x:2*p,y:0,autoAlpha:1}),TweenLite.to(v,h,{ease:Elastic.easeOut.config(w,I),x:0,y:0})),(2==i&&2==e.length||1==e.length)&&(0==r?TweenLite.set(v,{x:p,y:0,autoAlpha:1}):TweenLite.set(v,{x:2*-p,y:0,autoAlpha:1}),TweenLite.to(v,h,{ease:Elastic.easeOut.config(w,I),x:0,y:0}))}}s=!0,c=e}},Nt=function(){var e=y,t=p+h+v,n=.5;e!=x.cash&&null==C&&(C=animate.changeCash(e,n)),t!=x.wager&&null==S&&(S=animate.changeWager(t,n)),Pt()},Pt=function(){var e=document.getElementById("txt_cash"),t=g+Math.round(x.cash);e.innerHTML=t;var e=document.getElementById("txt_wager"),t=g+Math.round(x.wager);if(e.innerHTML=t,1==N){var e=document.getElementById("txt_wager"),t=g+Math.round(x.winamount);e.innerHTML=t}},At=function(){C=null,Nt()},zt=function(){S=null,Nt()},Dt=function(){return mydeck},Mt=function(){var e=deck.k_combinations([1,2,3,4,5,6,7,8],5),t=0,n=0,a=0,o=0;for(q=10;q<e.length;q++){var l=e[q],r=new Array;for(z=0;z<5;z++)o=u[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>t&&(t=o,n=q,a=hv[0])}for(l=e[n],z=0;z<5;z++)o=u[l[z]];for(f=1;f<=3;f++){var s="card"+(f+4),c=document.getElementById(s);c.style.opacity=.5}for(i=0;i<5;i++)if(o=u[l[i]],o==u[1]||o==u[2]||o==u[3]){var s="card"+(o+1),c=document.getElementById(s);c.style.opacity=1}var v=deck.k_combinations([1,2,3,4,5,6,7],5),h=0,w=0,I=0,o=0;for(q=0;q<v.length;q++){var l=v[q],r=new Array;for(z=0;z<5;z++)o=d[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>h&&(h=o,w=q,I=hv[0])}for(l=v[w],z=0;z<5;z++)o=d[l[z]];if(k=0,2==T){var b=0,E=0,k=0,o=0;for(q=0;q<v.length;q++){var l=v[q],r=new Array;for(z=0;z<5;z++)o=m[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>b&&(b=o,E=q,k=hv[0])}for(l=v[E],z=0;z<5;z++);}var B;if(t>h&&(B=1,console.log("Dealer Wins Hand 1")),h>t&&(B=0,console.log("Player Wins Hand 1")),h==t){B=2,console.log("TIE Hand 1");var c=document.getElementById("noticeResult");c.innerHTML="TIED HAND",c.style.display="inline"}if(1==T){var c=document.getElementById("noticeResult");c.className="notices",c.style.display="inline",0==B&&(c.innerHTML="PLAYER WINS"),1==B&&(c.innerHTML="DEALER WINS"),2==B&&(c.innerHTML="TIED HAND");var c=document.getElementById("noticeDealer");c.innerHTML=D[a-1],c.style.display="inline";var c=document.getElementById("noticePlayer");c.className="notices",c.innerHTML=D[I-1],c.style.display="inline"}if(2==T){var C;t>b&&(C=1,console.log("Dealer Wins Hand 2")),b>t&&(C=0,console.log("Player Wins Hand 2")),b==t&&(C=2,console.log("TIE Hand 1"));var c=document.getElementById("noticeDealer");c.innerHTML=D[a-1],c.style.display="inline";var c=document.getElementById("noticePlayerH1");c.className="notices noticesmall",c.innerHTML=D[I-1],c.style.display="inline";var c=document.getElementById("noticePlayerH2");c.className="notices noticesmall",c.innerHTML=D[k-1],c.style.display="inline";var c=document.getElementById("noticeH1");c.className="notices noticesmall",c.innerHTML="Hand 1",c.style.display="inline";var c=document.getElementById("noticeH2");c.className="notices noticesmall",c.innerHTML="Hand 2",c.style.display="inline";var c=document.getElementById("noticeResult1");c.className="notices noticesmall",c.style.display="inline";var S="",A="";0==B&&(S="PLAYER WINS"),1==B&&(S="DEALER WINS"),2==B&&(S="TIED HAND"),0==C&&(A="PLAYER WINS"),1==C&&(A="DEALER WINS"),2==C&&(A="TIED HAND"),c.innerHTML=S;var c=document.getElementById("noticeResult2");c.className="notices noticesmall",c.innerHTML=A,c.style.display="inline",ut("noticeResult","none"),ut("noticePlayer","none")}if(bonus1=P[I]*p,bonus2=P[k]*p,bonus=bonus1+bonus2,bonus>0){var c=document.getElementById("noticeBonus");c.style.display="inline";var M="Bonus "+g+bonus;c.innerHTML=M}var U=2*p,R=2*p,j=0,_=0;0==B&&(j=2*(U+p)),1==B&&(j=0),2==B&&(j=U+p),0==C&&(_=2*(R+p)),1==C&&(_=0),2==C&&(_=R);var c=document.getElementById("boxwager");c.style.backgroundImage="url(images/box_win.png)",N=!0,x.winamount=j+_+bonus,j+_+bonus>0?F.play():G.play(),y+=j,y+=_,y+=bonus,console.log("Payout hand1="+j),console.log("Payout hand2="+_),console.log("Payout bonus1="+bonus1),console.log("Payout bonus2="+bonus2),console.log("--------------"),Nt(),Ct(),St(y>=L+3*H?[3,4]:[4]),ot()};return{buttonClick:rt,cardClick:yt,chipClick:Bt,betClick:ht,updateScore:Nt,showScores:Pt,hideButtons:Ct,dealDone:it,getDeck:Dt,paytableClick:ft,helpClick:vt,startGame:lt,dispScores:x,endCashTween:At,endWagerTween:zt,setupCards:pt,posCards:X,portraitMode:O,landscapeMode:K}}();