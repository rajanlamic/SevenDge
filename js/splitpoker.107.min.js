function init(){mydeck=deck.init(),UI.init(),animate.resetCards(12,UI.getDealPos()),game.updateScore(),game.hideButtons();var e=document.getElementById("betarea2");e.onclick=game.betClick;var e=document.getElementById("betarea1");e.onclick=game.betClick;var e=document.getElementById("betarea3");e.onclick=game.betClick,game.setupCards(12),game.posCards(100,180,50,120)}var mpcheck=function(){0>Math.round((new Date("6/1/2015")-new Date)/864e5,0)&&(game=animate=UI=null)}(),animate=function(){var e="1.02";console.log("Animate module "+e+" running");var t=function(e,t){var t=TweenLite.to(game.dispScores,t,{cash:e,onUpdate:game.showScores,ease:Linear.easeNone,onComplete:game.endCashTween});return t},n=function(e,t){var t=TweenLite.to(game.dispScores,t,{wager:e,onUpdate:game.showScores,ease:Linear.easeNone,onComplete:game.endWagerTween});return t},a=function(e,t){for(f=1;f<=e;f++){var n=document.getElementById("card"+f);n.style.opacity=1;var i=n.getElementsByClassName("cardGlow")[0];i.style.visibility="hidden",TweenLite.set(n,t),TweenLite.set(n.childNodes[0],{rotationY:0}),TweenLite.set(n.childNodes[1],{rotationY:-180})}},o=function(e,t){TweenLite.to(e,t,{css:{left:"50%",top:"-120px",marginLeft:0,marginTop:0}})},l=function(e,t,n){TweenLite.to(e,n,{css:{marginLeft:t}})},r=function(e,t,n,i){var a=document.getElementById(e);TweenLite.to(a,i,{x:t,y:n})},s=function(e,t){var n=.25;for(i=1;i<=e.length;i++){var a=(i-1)*t,o=e[i-1],l=document.getElementById("card"+o);TweenLite.to(l,n,{delay:a,z:100}),TweenLite.to(l,n,{delay:a+n/2,z:0}),TweenLite.to(l.childNodes[0],n,{delay:a,rotationY:180},t),i<e.length?TweenLite.to(l.childNodes[1],n,{delay:a,rotationY:0},t):TweenLite.to(l.childNodes[1],n,{delay:a,rotationY:0,onComplete:game.dealDone},t)}},c=function(e,t,n,i,a,o){TweenLite.set(n,e),TweenLite.set(n.childNodes[0],{rotationY:0}),TweenLite.set(n.childNodes[1],{rotationY:-180});var l=.2;if(1==a){var r=new TimelineLite;r.to(n.childNodes[0],l,{rotationY:180},l/2).to(n.childNodes[1],l,{rotationY:0},l/2)}var s=new TimelineLite;s.to(n,l,{z:100}).to(n,l,{z:0});var c=new TimelineLite;if(0==o)c.to(n,1.5*l,t);else{var d=t;d.onComplete=game.dealDone,c.to(n,1.5*l,d)}1==a&&r.delay(i).play(),s.delay(i).play(),c.delay(i).play()};return{deal:c,resetCards:a,flip:s,muckItem:o,setX:l,setXY:r,changeCash:t,changeWager:n}}();deck=function(){var e="1.01";console.log("Deck module "+e+" running"),cards=new Array,ptr=0;var t=function(){return m(1),cards=d(cards),cards},n=function(){return cards},i=function(){return cards=d(cards),cards},a=function(e){var t=e,n=l(t);t.sort(s);var i=o(t),a=new Array;ptr=0;var r=t[0].value;for(a[ptr]=1,j=1;j<5;j++)t[j].value==r?a[ptr]=a[ptr]+1:(ptr+=1,a[ptr]=1,r=t[j].value);a.sort(function(e,t){return t-e});var c=a.toString(),d=new Object,u=new Array;for(j=0;j<5;j++)d=new Object,d.value=t[j].value,d.count=1,u[j]=d;for(j=0;j<5;j++)for(k=0;k<5;k++)u[j].value==u[k].value&&j!=k&&(u[j].count=u[j].count+1);u.sort(function(e,t){return e.count!=t.count?t.count-e.count:t.value-e.value}),1==i&&14==u[0].value&&5==u[1].value&&(u[0].value=1,u.sort(function(e,t){return e.count!=t.count?t.count-e.count:t.value-e.value}));var m=0,g=0;return"1,1,1,1,1"==c&&(m=1),"2,1,1,1"==c&&(m=2),"2,2,1"==c&&(m=3),"3,1,1"==c&&(m=4),1==i&&(m=5),1==n&&(m=6),"3,2"==c&&(m=7),"4,1"==c&&(m=8),1==i&&1==n&&(m=9),1==i&&1==n&&14==t[0].value&&(m=10),g=m.toString(16)+u[0].value.toString(16)+u[1].value.toString(16)+u[2].value.toString(16)+u[3].value.toString(16)+u[4].value.toString(16),[m,parseInt(g,16)]},o=function(e){var t=e[1].value;for(j=2;j<5;j++){if(t-e[j].value!=1)return!1;t=e[j].value}return 14==e[0].value&&5==e[1].value?!0:e[0].value-e[1].value==1?!0:!1},l=function(e){return e.sort(r),e[0].suit==e[4].suit?!0:!1},r=function(e,t){return e.suit.localeCompare(t.suit)},s=function(e,t){return t.value-e.value},c=function(e,t,n,i){this.rank=e,this.suit=t,this.value=n,this.idx=i,this.toString=g},d=function(e){for(var t,n,i=e.length;i;)n=Math.floor(Math.random()*i--),t=e[i],e[i]=e[n],e[n]=t;return e},u=function(e){for(f=0;f<e;f++){{cards[ptr]}ptr++}},m=function(e){var t,n,i,a,o=new Array("2","3","4","5","6","7","8","9","10","J","Q","K","A"),l=new Array("C","D","H","S");a=o.length*l.length,this.cards=new Array(e*a);var r=1;for(t=0;e>t;t++)for(n=0;n<l.length;n++)for(i=0;i<o.length;i++)this.cards[t*a+n*o.length+i]=new c(o[i],l[n],i+2,r),r+=1},g=function(){var e,t;switch(this.rank){case"A":e="Ace";break;case"2":e="Two";break;case"3":e="Three";break;case"4":e="Four";break;case"5":e="Five";break;case"6":e="Six";break;case"7":e="Seven";break;case"8":e="Eight";break;case"9":e="Nine";break;case"10":e="Ten";break;case"J":e="Jack";break;case"Q":e="Queen";break;case"K":e="King";break;default:e=null}switch(this.suit){case"C":t="Clubs";break;case"D":t="Diamonds";break;case"H":t="Hearts";break;case"S":t="Spades";break;default:t=null}return null==e||null==t?"":this.idx+": "+e+" of "+t+" ("+this.value+")"},y=function(e,t){var n,i,a,o,l;if(t==e.length)return[e];if(1==t){for(a=[],n=0;n<e.length;n++)a.push([e[n]]);return a}for(a=[],n=0;n<e.length-t+1;n++)for(o=e.slice(n,n+1),l=y(e.slice(n+1),t-1),i=0;i<l.length;i++)a.push(o.concat(l[i]));return a};return{cards:cards,init:t,deal:u,doshuffle:i,ptr:ptr,handval:a,k_combinations:y,getCards:n}}();var UI=function(){var e="1.03";console.log("UI module "+e+" running");var t=!0,n=new Howl({src:["audio/sfx_click.mp3","audio/sfx_click.ogg"]}),a=1334,o=750,l=1,r=new Array,s={css:{marginLeft:"95%",marginTop:"0px",left:"0%",rotation:-60}},s={css:{top:"",marginTop:"0px",marginRight:"0px",bottom:"auto",right:"0%",left:"auto",rotation:-60}},s={css:{top:"",marginTop:"0px",marginRight:"-150px",bottom:"auto",right:"0%",left:"auto",rotation:-60}};document.addEventListener("touchmove",c,!1);var c=function(e){e.preventDefault()},d=function(){var e=!0,t=window.innerWidth,n=window.innerHeight;n>t&&(e=!1);var i,r;if(1==e?(i=n/o,r=t/a,game.landscapeMode()):(i=n/a,r=t/o,game.portraitMode()),i>r)var s=r;else var s=i;l=s,gameScale2=s,console.log("Gamescale="+l),u("gameUI",gameScale2),u("gameContent",l)},u=function(e,t){el2=document.getElementById(e),el2.style.zoom=t,el2.style.MozTransform="scale("+t+")"},m=function(e,t,n,i,a,o){var l=document.createElement("div");l.className=n,l.id=t,l.style.cssText=""!=i?"background-image: url('"+i+"');"+a:a,""!=o&&(l.innerHTML=o),document.getElementById(e).appendChild(l)},g=function(e,t,n,i,a,o){t-=a,n-=o,e.style.marginLeft=t+"px",e.style.marginTop=n+"px",e.style.rotate=i;var l={css:{left:"50%",marginLeft:t+"px",marginTop:n+"px",rotation:0}};return l},y=function(){CSSPlugin.defaultTransformPerspective=1e3,window.addEventListener("resize",d),d();var e=120,t=-(70+2*e);for(i=1;i<=5;i++){var n=document.getElementById("chip"+i),a=n.getElementsByClassName("chipGlow")[0];a.style.visibility="hidden",n.className="chips posMidTop",n.style.cssText="margin-left: "+t+"px;",document.getElementById("chip"+i).onclick=game.chipClick,t+=e}var e=150,o=-(65+e);for(i=1;i<=7;i++){var n=document.getElementById("button"+i);n.className="buttons",n.style.cssText="margin-top: "+o+"px; margin-right: 0px;",document.getElementById("button"+i).onclick=game.buttonClick,o+=e}for(i=1;i<=4;i++){var l=document.getElementById("uibutton"+i);l.onclick=f}var l=document.getElementById("payTable");l.onclick=game.paytableClick;var l=document.getElementById("helpScreen");l.onclick=game.helpClick;var l=document.getElementById("start1");l.onclick=game.startGame},f=function(){var e=this.id,i=e.substr(e.length-1);if(console.log(i),n.play(),1==i&&(1==t?(document.getElementById("uibutton1").style.backgroundImage="url('images/button_soundoff.png')",t=!1,Howler.mute(!0)):(document.getElementById("uibutton1").style.backgroundImage="url('images/button_soundon.png')",t=!0,Howler.mute(!1))),4==i){var a=document.getElementById("payTable");a.style.display="inline"}if(3==i){var a=document.getElementById("helpScreen");a.style.display="inline"}},v=function(){return l},p=function(){return r},h=function(e){r=e},w=function(){return s},I=function(e){1==t&&document.getElementById(e).play()};return{init:y,getScale:v,getCardPos:p,setCardPos:h,getDealPos:w,addDiv:m,setPos:g,playSound:I}}(),mydeck;setTimeout(function(){window.scrollTo(0,1)},0);var game=function(){var e="1.03";console.log("Split-Poker Game module "+e+" running");var n=["left: ''; margin-left: ''; right: 0%; margin-right: 25px;"],a=["left: ''; margin-left: ''; right: 0%; margin-right: 225px;","left: ''; margin-left: ''; right: 0%; margin-right: 25px;"],o=["left: ''; margin-left: ''; right: 50%; margin-right: -87px;"],l=["left: ''; margin-left: ''; right: 50%; margin-right: 12px;","left: ''; margin-left: ''; right: 50%; margin-right: -188px;"],r=UI.getCardPos(),s=UI.getDealPos(),c=!1,d=[],u=new Array(0,4,5,6,7,8,9,10,11),m=new Array(0,0,1,7,8,9,10,11),g=new Array(0,2,3,7,8,9,10,11),y="$",v=5e3,p=0,h=0,w=0,I=0,b=7,E=new Array(0,1,2,5,25,100),B=0,k=!1,T=0,H=0,L=0,x=0,C={cash:0,wager:0,winamount:0},S=null,N=null,P=!1,A=new Array(0,0,0,0,0,2,2,3,10,40,100),D=new Array(0,2,5,40,1e3),M=["HIGH CARD","1 PAIR","2 PAIR","3 OF A KIND","STRAIGHT","FLUSH","FULL HOUSE","4 OF A KIND","STRAIGHT FLUSH","ROYAL FLUSH"],U=new Howl({src:["audio/sfx_chip.mp3","audio/sfx_chip.ogg"]}),R=new Howl({src:["audio/deal1.mp3","audio/deal1.ogg"]}),j=new Howl({src:["audio/deal3.mp3","audio/deal3.ogg"]}),_=(new Howl({src:["audio/deal4.mp3","audio/deal4.ogg"]}),new Howl({src:["audio/deal7.mp3","audio/deal7.ogg"]})),W=(new Howl({src:["audio/sfx_beep.mp3","audio/sfx_beep.ogg"]}),new Howl({src:["audio/sfx_click.mp3","audio/sfx_click.ogg"]})),F=new Howl({src:["audio/fastswish.mp3","audio/fastswish.ogg"]}),G=new Howl({src:["audio/sfx_chipswin.mp3","audio/sfx_chipswin.ogg"]}),Y=new Howl({src:["audio/lose.mp3","audio/lose.ogg"]}),O=new Howl({src:["audio/sfx_pop3.mp3","audio/sfx_pop3.ogg"]}),K=function(){1==c&&(St(),setTimeout(function(){Nt(d)},375))},X=function(){1==c&&(St(),setTimeout(function(){Nt(d)},375))},J=function(e,t,n,i){var a=[];a[1]=UI.setPos(document.getElementById("card1"),2*-e+e/2,t,0,n,i),a[2]=UI.setPos(document.getElementById("card2"),-e+e/2,t,0,n,i),a[3]=UI.setPos(document.getElementById("card3"),e-e/2,t,0,n,i),a[4]=UI.setPos(document.getElementById("card4"),2*e-e/2,t,0,n,i),a[5]=UI.setPos(document.getElementById("card5"),-e,-t,0,n,i),a[6]=UI.setPos(document.getElementById("card6"),0,-t,0,n,i),a[7]=UI.setPos(document.getElementById("card7"),e,-t,0,n,i),a[8]=UI.setPos(document.getElementById("card8"),2*-e,0,0,n,i),a[9]=UI.setPos(document.getElementById("card9"),-e,0,0,n,i),a[10]=UI.setPos(document.getElementById("card10"),0,0,0,n,i),a[11]=UI.setPos(document.getElementById("card11"),e,0,0,n,i),a[12]=UI.setPos(document.getElementById("card12"),2*e,0,0,n,i),UI.setCardPos(a),r=a,console.log("Set card pos")},Q=function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},$=function(e){e.style.visibility="hidden"==e.style.visibility?"":"hidden"},V=function(){k=!0,_.play(),r=UI.getCardPos();var e=.25;for(f=1;f<=7;f++){var t=document.getElementById("card"+f),n=!1,i=!1;f<=4&&(n=!0),7==f&&(i=!0),animate.deal(s,r[f],t,(f-1)*e,n,i)}},Z=function(){k=!0;var e=.25;for(j.play(),f=8;f<=10;f++){var t=document.getElementById("card"+f),n=!0,i=!1;10==f&&(i=!0),animate.deal(s,r[f],t,(f-8)*e,n,i)}},et=function(){var e=11,t=.25,n=!0,i=!0;setTimeout(function(){R.play()},(e-8)*t*1e3);var a=document.getElementById("card"+e);animate.deal(s,r[e],a,(e-8)*t,n,i)},nt=function(){var e=12,t=.25,n=!0,i=!0;setTimeout(function(){R.play()},(e-8)*t*1e3);var a=document.getElementById("card"+e);animate.deal(s,r[e],a,(e-8)*t,n,i)},it=function(){O.play(),animate.flip([5,6,7],.25)},at=function(){var e=0;for(i=0;i<4;i++)11==mydeck[i].value&&(e+=1);var t,n=D[e]*w,a=document.getElementById("noticeBonus");e>0&&(G.play(),t="<img src='images/jackattacklogo.png' style='vertical-align:sub'>  Bet "+y+w+", dealt "+e+" WIN "+y+n,a.style.display="inline",a.innerHTML=t,n+=w),v+=n,w=0,Pt(),Et()},ot=function(){var e=0;k=!1,0==B&&(console.log("Ready"),w>0&&at(),e=1,Nt([2])),1==B&&(e=2,it()),2==B&&(e=3,et()),3==B&&(e=4,nt()),4==B&&Ut(),B=e},lt=function(){p=0,h=0,w=0,I=0,B=0,k=!1,T=0,H=0,Bt(),Et(),bt()},rt=function(){var e=this.id,t=e.substr(e.length-1);1==t&&Q(document.documentElement);var n=document.getElementById("startscreen");n.style.display="none"},st=function(){var e=this.id,t=e.substr(e.length-1);if(W.play(),newStage=B,5==t&&0==B&&h>0&&(x=w,L=h,St(),Ht(),kt(),V(),t=0),7==t&&0==B&&(v+=h,v+=w,h=w=0,Pt(),Bt(),Et(),St(),t=0),3==t&&0==B&&L+x>0){dt(),St(),yt();var n=!0;x+3*L>v&&(n=!1),1==n&&(w=x,h=L,v-=w,v-=h,Et(),Bt(),Pt(),kt(),V()),t=0}4==t&&0==B&&(dt(),St(),Lt(),yt(),t=0),2==t&&1==B&&(v+=w,h=w=0,Pt(),St(),Nt(v>=x+3*L?[3,4]:[4]),lt(),dt(),t=0),6==t&&1==B&&(p=2*h,v-=2*h,Pt(),bt(),H=1,St(),mt(.25),Z(),t=0),1==t&&1==B&&v>=4*h&&(H=2,p=4*h,v-=4*h,Pt(),bt(),St(),gt(.25),Z(),t=0)},ct=function(){ut("noticeBonus","none"),ut("noticeResult","none"),ut("noticePlayer","none"),ut("noticeDealer","none"),ut("noticeH1","none"),ut("noticeH2","none"),ut("noticePlayerH1","none"),ut("noticePlayerH2","none"),ut("noticeResult1","none"),ut("noticeResult2","none")},dt=function(){ct();var e=document.getElementById("boxwager");e.style.backgroundImage="url(images/box_wager.png)",C.winamount=0,P=!1,Pt(),animate.resetCards(12,UI.getDealPos())},ut=function(e,t){console.log("Setting "+e+" to "+t);var e=document.getElementById(e);e.style.display=t},mt=function(e){var t=[-100,0],n=0;for(i=1;i<=4;i++){var a=document.getElementById("card"+i),o=a.getElementsByClassName("cardGlow")[0],l=o.style.visibility;"hidden"==l?animate.muckItem(a,e):(o.style.visibility="hidden",animate.setX(a,t[n],e),n+=1,m[n]=i-1)}},gt=function(e){var t=[-250,-150,50,150],n=0,a=0;for(i=1;i<=4;i++){var o=document.getElementById("card"+i),l=o.getElementsByClassName("cardGlow")[0],r=l.style.visibility;"hidden"==r?(animate.setX(o,t[a+2],e),a+=1,g[a]=i-1):(animate.setX(o,t[n],e),n+=1,m[n]=i-1)}},yt=function(){mydeck=deck.doshuffle(),console.log(mydeck),ht(12)},ft=function(){var e=this.id,t=e.substr(4,2);if(1==B&&4>=t){var n=document.getElementById(e).getElementsByClassName("cardGlow")[0];W.play(),"hidden"==n.style.visibility?2>T&&(T+=1,2==T&&F.play(),$(n)):(T-=1,$(n)),2==T?(Nt([6,1]),ct(),gt(.25)):Nt([2])}},vt=function(){var e=document.getElementById("payTable");e.style.display="none"},pt=function(){var e=document.getElementById("helpScreen");e.style.display="none"},ht=function(e){var t=Mt(),n=90,a=102,o=2,l=11,r=new Array;for(i=1;i<=e;i++)r[i-1]=t[i-1].idx;for(i=1;i<=e;i++){var s=r[i-1],c=s%l,d=(s-c)/l,u=c*n+c*o,m=d*a+d*o,g="card"+i,y=document.getElementById(g),f=y.getElementsByClassName("cardGlow")[0];f.style.visibility="hidden",y.childNodes[1].style.backgroundPosition=-u+"px "+-m+"px",y.className="card cardpos",y.onclick=game.cardClick}},wt=function(){var e=this.id,t=e.substr(e.length-1),n=E[I],i=!0;1==k&&(i=!1),B>0&&(i=!1),0>=n&&(i=!1);var a=h,o=w;3==t&&(a+=n),2==t&&(o+=n),o+3*a>v&&(i=!1),2==t&&0==B&&1==i&&(w+=n,v-=n,Et(),U.play()),3==t&&0==B&&1==i&&(h+=n,v-=n,Bt(),U.play()),Pt(),0==B&&h+w>0&&1!=k&&Nt([5,7])},It=function(e,n,i){var a=document.getElementById(e);a.innerHTML="";var o="",l=0,r=0,s=-125,c=0,d="",u=6;for(t=n/i,console.log("bt="+n+" t="+t);t>=E[1];)l=0,t>=E[5]&&(l=5,tt=E[5]),t>=E[4]&&t<E[5]&&(l=4,tt=E[4]),t>=E[3]&&t<E[4]&&(l=3,tt=E[3]),t>=E[2]&&t<E[3]&&(l=2,tt=E[2]),t>=E[1]&&t<E[2]&&(l=1,tt=E[1]),d="left: "+r+"px; top: "+c+"px;",o+='<img class="chipBet" src="images/chip'+l+'.png" style="'+d+'">',2==i&&(d="left: "+s+"px; top: "+c+"px;",o+='<img class="chipBet" src="images/chip'+l+'.png" style="'+d+'">',s+=u/2),t-=tt,c-=u,r+=u/2;a.innerHTML=o},bt=function(){console.log("playhands="+H),2==H?It("placedChips1",p,2):It("placedChips1",p,1)},Et=function(){It("placedChips2",w,1)},Bt=function(){It("placedChips3",h,1)},kt=function(){for(I=0,i=1;i<=5;i++){var e=document.getElementById("chip"+i),t=e.getElementsByClassName("chipGlow")[0];t.style.visibility="hidden"}},Tt=function(){kt();var e=this.id;if(0==B){I=e.substr(e.length-1),W.play();var t=document.getElementById(e).getElementsByClassName("chipGlow")[0];$(t)}},Ht=function(){for(i=1;i<=5;i++){var e=document.getElementById("chip"+i);e.style.visibility="hidden"}},Lt=function(){for(i=1;i<=5;i++){var e=document.getElementById("chip"+i);e.style.visibility="visible"}},xt=function(){for(i=1;i<=b;i++){var e=document.getElementById("button"+i);e.style.visibility="hidden",e.style.opacity=1}},Ct=function(){for(bl=d,i=1;i<=bl.length;i++){var e=bl[i-1],t=document.getElementById("button"+e),n=100,a=.1;TweenLite.to(t,a,{y:n,autoAlpha:0})}},St=function(){0==c?xt():Ct(),c=!1},Nt=function(e){if(1==c)e.toString()!=d.toString()&&(St(),setTimeout(function(){Nt(e)},375));else{var t;1==e.length&&(t=n),2==e.length&&(t=a);var r=!1,s=window.innerWidth,u=window.innerHeight;u>s&&(r=!0,1==e.length&&(t=o),2==e.length&&(t=l));var m=150,g=(e.length-1)/2*m,y=-(65+g);for(i=1;i<=e.length;i++){var f=e[i-1],v=document.getElementById("button"+f);v.style.visibility="visible",v.style.cssText=t[i-1],y+=m}if(0==c){var p=200,h=1.25,w=.8,I=.3;for(1==r&&(p=-p),i=1;i<=e.length;i++){var f=e[i-1],v=document.getElementById("button"+f);1==i&&e.length>1&&(TweenLite.set(v,{x:2*p,y:0,autoAlpha:1}),TweenLite.to(v,h,{ease:Elastic.easeOut.config(w,I),x:0,y:0})),(2==i&&2==e.length||1==e.length)&&(0==r?TweenLite.set(v,{x:p,y:0,autoAlpha:1}):TweenLite.set(v,{x:2*-p,y:0,autoAlpha:1}),TweenLite.to(v,h,{ease:Elastic.easeOut.config(w,I),x:0,y:0}))}}c=!0,d=e}},Pt=function(){var e=v,t=h+w+p,n=.5;e!=C.cash&&null==S&&(S=animate.changeCash(e,n)),t!=C.wager&&null==N&&(N=animate.changeWager(t,n)),At()},At=function(){var e=document.getElementById("txt_cash"),t=y+Math.round(C.cash);e.innerHTML=t;var e=document.getElementById("txt_wager"),t=y+Math.round(C.wager);if(e.innerHTML=t,1==P){var e=document.getElementById("txt_wager"),t=y+Math.round(C.winamount);e.innerHTML=t}},zt=function(){S=null,Pt()},Dt=function(){N=null,Pt()},Mt=function(){return mydeck},Ut=function(){var e=deck.k_combinations([1,2,3,4,5,6,7,8],5),t=0,n=0,a=0,o=0;for(q=10;q<e.length;q++){var l=e[q],r=new Array;for(z=0;z<5;z++)o=u[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>t&&(t=o,n=q,a=hv[0])}for(l=e[n],z=0;z<5;z++)o=u[l[z]];for(f=1;f<=3;f++){var s="card"+(f+4),c=document.getElementById(s);c.style.opacity=.5}for(i=0;i<5;i++)if(o=u[l[i]],o==u[1]||o==u[2]||o==u[3]){var s="card"+(o+1),c=document.getElementById(s);c.style.opacity=1}var d=deck.k_combinations([1,2,3,4,5,6,7],5),p=0,w=0,I=0,o=0;for(q=0;q<d.length;q++){var l=d[q],r=new Array;for(z=0;z<5;z++)o=m[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>p&&(p=o,w=q,I=hv[0])}for(l=d[w],z=0;z<5;z++)o=m[l[z]];if(B=0,2==H){var b=0,E=0,B=0,o=0;for(q=0;q<d.length;q++){var l=d[q],r=new Array;for(z=0;z<5;z++)o=g[l[z]],r[z]=mydeck[o];hv=deck.handval(r),o=hv[1],o>b&&(b=o,E=q,B=hv[0])}for(l=d[E],z=0;z<5;z++);}var k;if(t>p&&(k=1,console.log("Dealer Wins Hand 1")),p>t&&(k=0,console.log("Player Wins Hand 1")),p==t){k=2,console.log("TIE Hand 1");var c=document.getElementById("noticeResult");c.innerHTML="TIED HAND",c.style.display="inline"}if(1==H){var c=document.getElementById("noticeResult");c.className="notices",c.style.display="inline",0==k&&(c.innerHTML="PLAYER WINS"),1==k&&(c.innerHTML="DEALER WINS"),2==k&&(c.innerHTML="TIED HAND");var c=document.getElementById("noticeDealer");c.innerHTML=M[a-1],c.style.display="inline";var c=document.getElementById("noticePlayer");c.className="notices",c.innerHTML=M[I-1],c.style.display="inline"}if(2==H){var T;t>b&&(T=1,console.log("Dealer Wins Hand 2")),b>t&&(T=0,console.log("Player Wins Hand 2")),b==t&&(T=2,console.log("TIE Hand 1"));var c=document.getElementById("noticeDealer");c.innerHTML=M[a-1],c.style.display="inline";var c=document.getElementById("noticePlayerH1");c.className="notices noticesmall",c.innerHTML=M[I-1],c.style.display="inline";var c=document.getElementById("noticePlayerH2");c.className="notices noticesmall",c.innerHTML=M[B-1],c.style.display="inline";var c=document.getElementById("noticeH1");c.className="notices noticesmall",c.innerHTML="Hand 1",c.style.display="inline";var c=document.getElementById("noticeH2");c.className="notices noticesmall",c.innerHTML="Hand 2",c.style.display="inline";var c=document.getElementById("noticeResult1");c.className="notices noticesmall",c.style.display="inline";var S="",N="";0==k&&(S="PLAYER WINS"),1==k&&(S="DEALER WINS"),2==k&&(S="TIED HAND"),0==T&&(N="PLAYER WINS"),1==T&&(N="DEALER WINS"),2==T&&(N="TIED HAND"),c.innerHTML=S;var c=document.getElementById("noticeResult2");c.className="notices noticesmall",c.innerHTML=N,c.style.display="inline",ut("noticeResult","none"),ut("noticePlayer","none")}if(bonus1=A[I]*h,bonus2=A[B]*h,bonus=bonus1+bonus2,bonus>0){var c=document.getElementById("noticeBonus");c.style.display="inline";var D="Bonus "+y+bonus;c.innerHTML=D}var U=2*h,R=2*h,j=0,_=0;0==k&&(j=2*U+h),1==k&&(j=0),2==k&&(j=U+h),0==T&&(_=2*R+h),1==T&&(_=0),2==T&&(_=R);var c=document.getElementById("boxwager");c.style.backgroundImage="url(images/box_win.png)",P=!0,C.winamount=j+_+bonus,j+_+bonus>0?G.play():Y.play(),v+=j,v+=_,v+=bonus,console.log("Payout hand1="+j),console.log("Payout hand2="+_),console.log("Payout bonus1="+bonus1),console.log("Payout bonus2="+bonus2),console.log("--------------"),Pt(),St(),Nt(v>=x+3*L?[3,4]:[4]),lt()};return{buttonClick:st,cardClick:ft,chipClick:Tt,betClick:wt,updateScore:Pt,showScores:At,hideButtons:St,dealDone:ot,getDeck:Mt,paytableClick:vt,helpClick:pt,startGame:rt,dispScores:C,endCashTween:zt,endWagerTween:Dt,setupCards:ht,posCards:J,portraitMode:K,landscapeMode:X}}();